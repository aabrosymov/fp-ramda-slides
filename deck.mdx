import {
  Split,
  SplitRight,
  Appear,
  Horizontal,
} from "mdx-deck";
import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, nightOwl } from "@code-surfer/themes";
import { yellow } from "mdx-deck/themes";

import funcImage from "./assets/images/func.png";
import ramdaDocsImage from "./assets/images/ramda-docs.png";
import avatar from "./assets/images/avatar.jpg";
import thinkMemeImage from "./assets/images/think-about-it.png";
import composeMeme1 from "./assets/images/compose-meme-1.jpeg";
import composeMeme2 from "./assets/images/compose-meme-2.jpg";
import composeMeme3 from "./assets/images/compose-meme-3.png";

export const theme = nightOwl;

### Why you should try FP and Ramda JS üôÇ

---

<SplitRight>

<img
  src={avatar}
  style={{
    width: "350px",
    height: "350px",
  }}
/>

##### Who am I?

#### Anton Abrosymov

I have 3+ years of experience in JavaScript development.  
Engaged in React, Node JS.  
Currently work in middle-size project at front-end lead position.

</SplitRight>

---

<Split>

<div>

<img src={thinkMemeImage} style={{ width: "400px" }} />

### ‚òùÔ∏è As for me there are 2 main principles of software development:

</div>

<Appear>

1. The best line of code is the one  
   that is not written.

2. A functionality is written once, but probably will be changed many times in the future.

</Appear>

</Split>

---

<SplitRight>

The _functional_ in _functional programming_
refers to _mathematical functions_,  
rather than "what it should do"  
as in "functional requirements".

<img src={funcImage} />

##### Visual representation of a function f(x) = 3 - 0.5x

</SplitRight>

---

### Pure functions üö∞

Given the _same input_,  
will always return the _same output_  
and produces _no side effect_

---

<CodeSurferColumns themes={[nightOwl, github]}>

<Step>

```js file=./src/fp-principles.impure.1.js title="Impure function"

```

```js file=./src/fp-principles.pure.1.js title="Pure function"

```

</Step>

<Step>

```js file=./src/fp-principles.impure.2.js title="Impure function"

```

```js file=./src/fp-principles.pure.2.js title="Pure function"

```

</Step>

<Step>

```js file=./src/fp-principles.impure.3.js title="Impure function"

```

```js file=./src/fp-principles.pure.3.js title="Pure function"

```

</Step>

</CodeSurferColumns>

---

### Immutable data

---

### Side effects

---

### What is the Ramda JS?

<Split>

<img src={ramdaDocsImage} style={{ width: "1200px" }} />

<ol
  style={{
    textAlign: "left",
    marginLeft: "20px",
    fontSize: "36px",
  }}
>
  <li>Ramda package contains 200 different functions</li>
  <li>Each Ramda function is carried</li>
  <li>
    The data to be operated on is generally supplied last.
  </li>
</ol>

</Split>

---

### Functional Composition

Applying a function to the output of another function

<Appear>

f(g(h(x))) => compose(h, g, f)(x)

</Appear>

---

<CodeSurfer>

```js file=./src/functional-composition.1.js title="Functional Composition" subtitle="Native JS approach"

```

```js file=./src/functional-composition.2.js title="Functional Composition" subtitle="Using R.compose"

```

```js file=./src/functional-composition.3.js title="Functional Composition" subtitle="Using R.pipe"

```

```js file=./src/functional-composition.4.js title="Functional Composition" subtitle="Using R.o"

```

</CodeSurfer>

---

### Functional composition

<Horizontal>

<img
  src={composeMeme1}
  style={{ width: "100%", padding: "0 20px" }}
/>

<img
  src={composeMeme2}
  style={{ width: "100%", padding: "0 20px" }}
/>

<img
  src={composeMeme3}
  style={{ width: "100%", padding: "0 20px" }}
/>

</Horizontal>

---

### Currying

```js
f(x, y, z) => f(x)(y)(z)
```

---

<CodeSurfer>

```js file=./src/point-free.1.js title="Point-free style" subtitle="It's a way of defining functions without pointing its arguments or any intermediate data."

```

```js file=./src/point-free.2.js title="Point-free style" subtitle="It's a way of defining functions without pointing its arguments or any intermediate data."

```

</CodeSurfer>

---

### Use cases. Data interactions

---

<CodeSurferColumns themes={[nightOwl, github]}>

<Step>

```js file=./src/use-cases.data.js

```

```js file=./src/use-cases.native.1.js title="Native approach"

```

</Step>

<Step>

```js file=./src/use-cases.data.js

```

```js file=./src/use-cases.ramda.1.js title="Ramda approach"

```

</Step>

<Step>

```js file=./src/use-cases.data.js

```

```js file=./src/use-cases.ramda.2.js title="Ramda approach"

```

</Step>

<Step>

```js file=./src/use-cases.data.js

```

```js file=./src/use-cases.ramda.3.js title="Ramda approach"

```

</Step>

</CodeSurferColumns>

---

### Use cases. Working with async actions üëÄ

---

<CodeSurferColumns themes={[nightOwl, github]}>

<Step>

```js file=./src/use-cases.promises.native.1.js

```

```js file=./src/use-cases.promises.native.2.js title="Native approach"

```

</Step>

<Step>

```js file=./src/use-cases.promises.native.1.js

```

```js file=./src/use-cases.promises.ramda.1.js title="Ramda approach"

```

</Step>

<Step>

```js file=./src/use-cases.promises.native.1.js

```

```js 3: file=./src/use-cases.promises.ramda.2.js title="Ramda approach"

```

</Step>

</CodeSurferColumns>

---

Combination of Ramda and React = love ‚ù§Ô∏è

---

<CodeSurfer>

```js file=./src/use-cases.native.2.js

```

</CodeSurfer>

---

<CodeSurferColumns themes={[nightOwl, github]}>

<Step>

```js file=./src/use-cases.native.3.js

```

```js
// Ramda approach
```

</Step>

<Step>

```js file=./src/use-cases.native.3.js

```

```js file=./src/use-cases.ramda.4.js

```

</Step>

</CodeSurferColumns>

---

### Ramda anti-patterns

---

<CodeSurfer>

```js file=./src/antipatterns.1.js title="Mixing ramda with imperative style" subtitle="It will be easier and much more expressive to use the native js functions and regexp in this case"

```

```js file=./src/antipatterns.2.js title="But with ramda it could be even simpler"

```

```js file=./src/antipatterns.3.js title="Antother anti-pattern example from the real life ü§Ø"

```

</CodeSurfer>

---

<CodeSurferColumns themes={[nightOwl, github]}>

<Step>

```js file=./src/antipatterns.4.js title="Ramda obssese"

```

```js file=./src/antipatterns.5.js

```

</Step>

</CodeSurferColumns>

---

### Summary. Ramda's pros and cons:

<Appear>

- Ramda allows you to use the functional programming style and it doesn't bother you by difficult algebra concepts

- It helps you to build complex functional pipelines

- ...

</Appear>

---

- It takes a while before you can use it confidently

- ...

---

References:

1. [Thinking in Ramda](https://randycoulman.com/blog/2016/05/24/thinking-in-ramda-getting-started/)
2. [Use Ramda with React and Redux](https://tommmyy.github.io/ramda-react-redux-patterns/)
3. [Why are we not afraid to think functionally with Ramda?](https://blog.usejournal.com/why-are-we-not-afraid-to-think-functionally-with-ramda-fb17f733fde8)
4. [Functional JS #5: Partial Application, Currying](https://medium.com/dailyjs/functional-js-5-partial-application-currying-da30da4e0cc3)
5. [Functional JS #6: Function composition](https://medium.com/dailyjs/functional-js-6-function-composition-b7042c2ccffa)

---

The lecture materials builded with:  
[codesurfer.pomb.us](https://codesurfer.pomb.us)
